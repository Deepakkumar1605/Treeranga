{% extends 'users/admin/base.html' %}
{% load static %}
{% block title %} category list {% endblock title %}
{% block content%}

<center>{% include 'snippets/alert.html' %}</center>
<head>
  <style>
    .tablecard{
    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
    }
    .cat-img{
      width: 100px;
      height: 80px;
      object-fit: contain ;
    }
    .catagory-btn {
      color: black;
      margin: auto 10px;
      padding: 5px 10px ;
      background-color: #f2f5f7;
      border: none;
      border-radius: 5px;
      box-shadow: inset 4px 2px 5px rgba(0, 0, 0, 0.3);
      cursor: pointer;  
      font-family: 'Poppins', sans-serif;
    }
    .BtM{
      box-shadow: inset 4px 2px 5px rgba(0, 0, 0, 0.3);
    }
    .headinG{
      color: navy;
      font-family: 'Poppins', sans-serif;
      font-weight: 500;
      font-size: 30px;
      margin-left:13px;
    }
    #tb-head{
      background-color:#28B673;
      color: #fff;
      font-family: 'Poppins', sans-serif;
      font-size: 12px;
    }
    #test_table_tbody , .modal-content{
      font-family: 'Poppins', sans-serif;
    }
    .px-5{
      text-align: center;
    }
  .modal-header{
    background-color:#28B673;
    color: #fff;
  }

  </style>
</head>

<body > 
  <header>
    <div class="container-fluid px-3">
      <div class="border-bottom pt-6">
        <div class="row align-items-center">
          <div class="col-sm col-12">
            <h1 class="h2 ls-tight headinG">CATEGORY LIST</h1>
          </div>
        </div>
      </div>
    </div>
  </header>
  
  <main class="py-6 bg-surface-secondary px-2">
    <div class="container-fluid">
      <div class="vstack gap-4">
        <div class="d-flex justify-content-between flex-column flex-sm-row gap-3">
          <div class="hstack gap-2">
            <div class="input-group input-group-sm input-group-inline"></div>
          </div>
          <div class="btn-group">
            <a
              data-bs-toggle="modal"
              data-bs-target="#create_catagory"
              class=" catagory-btn  btn-neutral">
              <i class="bi bi-plus ">Create New Category</i>
            </a>
          </div>
        </div>
  
        <div class="  tablecard">
          <div class="table-responsive">
            <table class="table table-hover table-nowrap">
              <thead class="" >
                <tr >
                  <th class="px-5" id="tb-head" scope="col"><b>Name</b></th>
                  <th class="px-5" id="tb-head"scope="col"><b>Image</b></th>
                  <th class="px-5" id="tb-head"scope="col"><b>Hide</b></th>
                  <th class="px-5" id="tb-head"scope="col"><b>Action</b></th>
                </tr>
              </thead>
              <tbody id="test_table_tbody">
                {% for catagory in catagory_list %}
                <tr>
                  <td class="px-5">
                    <a
                      class="text-heading text-black font-semibold"
                      
                      >{{catagory.title}}</a
                    >
                  </td>
  
                  <td class="px-5">
                    <img class="cat-img"
                      src="{{ catagory.image.url }}"
                      alt="Passbook Image"
                       />
                  </td>
  
  
                  <td class="px-5">{{catagory.hide}}</td>
  
                  <td class="px-5">
                    <a
                      href="{% url 'product:category_update' catagory.id %}"
                      class="btn btn-sm btn-square btn-neutral text-primary-hover BtM">
                      <i class="bi bi-pencil"></i>
                    </a> &nbsp;
                    <a
                      href="{% url 'product:catagory_delete' catagory.id %}">
                      <button
                        type="button"
                        class="btn btn-sm btn-square btn-neutral text-danger-hover BtM">
                        <i class="bi bi-trash"></i>
                      </button>
                    </a>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
          <div class="card-footer border-0 py-2 "></div>
        </div>
      </div>
    </div>
  </main>
  
  <!-- test create modal -->
  <div
    class="modal fade "
    id="create_catagory"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog ">
      <div class="modal-content ">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">ADD NEW CATEGORY</h5>
          <button
            type="button"
            class="btn-close BtM"
            data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %} {% for field in form %}
            <div class="mb-3">
              <label for="recipient-name" class="col-form-label"
                >{{field.label}}:</label
              >
              {{field}}
            </div>
            {% endfor %}
  
            <center>
              <button class="btn btn-success BtM" type="submit">
                Create Catagory
              </button>
            </center>
          </form>
        </div>
      </div>
    </div>
  </div>  
</body>
{% endblock content %}